<form [formGroup]="courseForm" (ngSubmit)="save()">
  <div class="form-group">
    <label for="name">Name</label>
    <input type="text" formControlName="name" class="form-control" id="name" placeholder="Enter name..."/>
  </div>
  <div class="form-group">
    <label for="ESPB">ESPB</label>
    <input type="number" formControlName="espb" class="form-control" id="ESPB" placeholder="ESPB..."/>
  </div>
  <div class="form-group">
    <label for="goal">Goal</label>
    <input type="text" formControlName="goal" class="form-control" id="goal" placeholder="Goal..."/>
  </div>
  <div class="form-group">
    <label for="status">Status</label>
    <select class="custom-select" formControlName="status" id="status">
      <option selected value="1">Optional</option>
      <option value="2">Mandatory</option>
    </select>
  </div>
  <div class="form-group">
    <label for="studyProgram">Study Program</label>
    <select class="custom-select" formControlName="studyProgram" id="studyProgram">
      <option *ngFor="let studyProgram of studyPrograms" [ngValue]="studyProgram">
        {{studyProgram.name}}
      </option>
    </select>
  </div>
  <div class="form-group">
    <label for="department">Department</label>
    <select class="custom-select" formControlName="department" id="department">
      <option *ngFor="let department of departments" [ngValue]="department">
        {{department.name}}
      </option>
    </select>
  </div>
  <button type="submit" class="btn btn-primary">Save</button>
  
  <!-- <div class="course-units">
    <ul class="list-group" id="units" [(ngModel)]="course.units" name="units">
      <li class="list-group-item">
        <input type="number" />
        <input type="text" />
        <input type="text" />
      </li>
    </ul>
  </div> -->
  <div formArrayName="courseUnits" *ngFor="let unit of courseForm.get('courseUnits').controls; let i = index;">
    <div [formGroupName]="i">
      <input type="number" formControlName="number" placeholder="Unit number">
      <input formControlName="name" placeholder="Unit name">
      <input formControlName="description" placeholder="Unit description">
      <button type="button" (click)="deleteItem(i)" class="btn btn-info">Delete unit</button>
    </div>
    Chosen name: {{ courseForm.controls.courseUnits.controls[i].controls.name.value }}
  </div>
</form>
<button (click)="addItem()" class="btn btn-primary">Add Unit</button>